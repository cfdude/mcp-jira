{
  "instances": {
    "primary": {
      "email": "your-email@company.com",
      "apiToken": "your-api-token-here",
      "domain": "your-domain",
      "projects": ["PROJ", "DEV", "OPS"]
    },
    "secondary": {
      "email": "your-email@otherdomain.com",
      "apiToken": "your-other-api-token",
      "domain": "other-domain"
    }
  },
  "projects": {
    "PROJ": {
      "instance": "primary",
      "storyPointsField": "customfield_10016",
      "sprintField": "customfield_10020",
      "epicLinkField": "customfield_10014"
    },
    "DEV": {
      "instance": "primary",
      "storyPointsField": "customfield_10016"
    },
    "OTHER": {
      "instance": "secondary",
      "storyPointsField": "customfield_10020"
    }
  },
  "defaultInstance": "primary",
  
  "crossServerIntegration": {
    "enabled": false,
    "confluenceMcpPath": "http://localhost:3000/mcp",
    "timeout": 30000,
    "maxRetries": 3,
    "allowedIncomingModes": ["read", "create"],
    "excludedOperations": ["delete_issue", "delete_project"],
    "role": "slave",
    "supportedConfluenceServers": ["confluence-cloud-mcp"]
  },
  
  "_comment": "Legacy single-instance format (still supported):",
  "_legacy_example": {
    "projectKey": "ABC",
    "storyPointsField": "customfield_10036"
  },
  
  "_instructions": {
    "setup": [
      "1. Replace 'your-email@company.com' with your actual Jira email",
      "2. Get API tokens from https://id.atlassian.com/manage-profile/security/api-tokens",
      "3. Replace 'your-domain' with your Jira domain (the part before .atlassian.net)",
      "4. Update project keys and custom field IDs for your projects",
      "5. Set defaultInstance to your most commonly used instance",
      "6. Save this file as '.jira-config.json' (remove .example)"
    ],
    "finding_custom_fields": [
      "ðŸ†• NEW: Use detect_project_fields tool to automatically discover field IDs",
      "Example: detect_project_fields({working_dir: '.', projectKey: 'PROJ', instance: 'primary'})",
      "Manual reference - Story Points: Usually customfield_10016 or customfield_10020",
      "Manual reference - Sprint: Usually customfield_10020 or customfield_10001", 
      "Manual reference - Epic Link: Usually customfield_10014 or customfield_10008",
      "Tools now provide automatic guidance when fields are missing on first project access"
    ],
    "multi_instance_benefits": [
      "Work with multiple Jira Cloud instances from one Claude session",
      "Automatic instance selection based on project key",
      "Per-project custom field configuration",
      "Backward compatible with single-instance setups"
    ],
    "cross_server_integration": [
      "Set 'crossServerIntegration.enabled' to true to enable cross-server communication",
      "Configure 'confluenceMcpPath' to point to your Confluence MCP server",
      "Adjust 'allowedIncomingModes' to control which operations can be received",
      "Use 'excludedOperations' to prevent dangerous operations like deletion",
      "Timeout and retry settings help with network reliability"
    ]
  }
}